{"ast":null,"code":"import axios from 'axios';\nimport { AUTH_SIGN_UP, AUTH_SIGN_OUT, AUTH_ERROR } from './types';\n/*\r\nActionCreators -> create/return Actions ({ }) -> dispatched -> middlewares -> reducers\r\n*/\n\nexport const signUp = data => {\n  /*\r\n      Step 1) Use the data and to make HTTP request to our BE abd send it along [x]\r\n      Step 2) Take BE response (jwtToken is hee now!) [x]\r\n      Step 3) Dispatch 'user just signed up' (with jwtToken)[x]\r\n      Step 4) Save the jwtToken into our localStorage[x]\r\n  */\n  return async dispatch => {\n    try {\n      console.log('[ActionCreator] signUp called!');\n      const res = await axios.post('http://localhost:5001/users/signup', data);\n      console.log('[ActionCreator] signUp dispatched an action!');\n      dispatch({\n        type: AUTH_SIGN_UP,\n        payload: res.data.token\n      });\n      localStorage.setItem('JWT_TOKEN', res.data.token);\n    } catch (error) {\n      dispatch({\n        type: AUTH_ERROR,\n        payload: 'Email is already in use'\n      });\n    }\n  };\n};\nexport const signIn = data => {\n  /*\r\n       Step 1) Use the data and to make HTTP request to our BE abd send it along [x]\r\n       Step 2) Take BE response (jwtToken is hee now!) [x]\r\n       Step 3) Dispatch 'user just signed up' (with jwtToken)[x]\r\n       Step 4) Save the jwtToken into our localStorage[x]\r\n   */\n  return async dispatch => {\n    try {\n      console.log('[ActionCreator] signUp called!');\n      const res = await axios.post('http://localhost:5001/users/signin', data);\n      console.log('[ActionCreator] signIn dispatched an action!');\n      dispatch({\n        type: AUTH_SIGN_UP,\n        payload: res.data.token\n      });\n      localStorage.setItem('JWT_TOKEN', res.data.token);\n    } catch (error) {\n      dispatch({\n        type: AUTH_ERROR,\n        payload: 'Email and password combination is not valid'\n      });\n    }\n  };\n};\nexport const signOut = () => {\n  return dispatch => {\n    localStorage.removeItem(\"JWT_TOKEN\");\n    dispatch({\n      type: AUTH_SIGN_OUT,\n      payload: ''\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/La mota/source/youtube-auth/client/src/actions/index.js"],"names":["axios","AUTH_SIGN_UP","AUTH_SIGN_OUT","AUTH_ERROR","signUp","data","dispatch","console","log","res","post","type","payload","token","localStorage","setItem","error","signIn","signOut","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,EAAuBC,aAAvB,EAAsCC,UAAtC,QAAwD,SAAxD;AAEA;AACA;AACA;;AAEA,OAAO,MAAMC,MAAM,GAAGC,IAAI,IAAI;AAC1B;AACJ;AACA;AACA;AACA;AACA;AAEI,SAAO,MAAMC,QAAN,IAAkB;AACrB,QAAI;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACA,YAAMC,GAAG,GAAG,MAAMT,KAAK,CAACU,IAAN,CAAW,oCAAX,EAAiDL,IAAjD,CAAlB;AAEAE,MAAAA,OAAO,CAACC,GAAR,CAAY,8CAAZ;AACAF,MAAAA,QAAQ,CAAC;AACLK,QAAAA,IAAI,EAAEV,YADD;AAELW,QAAAA,OAAO,EAAEH,GAAG,CAACJ,IAAJ,CAASQ;AAFb,OAAD,CAAR;AAKAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCN,GAAG,CAACJ,IAAJ,CAASQ,KAA3C;AAEH,KAZD,CAYE,OAAOG,KAAP,EAAc;AACZV,MAAAA,QAAQ,CAAC;AACLK,QAAAA,IAAI,EAAER,UADD;AAELS,QAAAA,OAAO,EAAE;AAFJ,OAAD,CAAR;AAIH;AAGJ,GArBD;AAsBH,CA9BM;AAgCP,OAAO,MAAMK,MAAM,GAAGZ,IAAI,IAAI;AAC3B;AACH;AACA;AACA;AACA;AACA;AAEQ,SAAO,MAAMC,QAAN,IAAkB;AACrB,QAAI;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACA,YAAMC,GAAG,GAAG,MAAMT,KAAK,CAACU,IAAN,CAAW,oCAAX,EAAiDL,IAAjD,CAAlB;AAEAE,MAAAA,OAAO,CAACC,GAAR,CAAY,8CAAZ;AACAF,MAAAA,QAAQ,CAAC;AACLK,QAAAA,IAAI,EAAEV,YADD;AAELW,QAAAA,OAAO,EAAEH,GAAG,CAACJ,IAAJ,CAASQ;AAFb,OAAD,CAAR;AAKAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCN,GAAG,CAACJ,IAAJ,CAASQ,KAA3C;AAEH,KAZD,CAYE,OAAOG,KAAP,EAAc;AACZV,MAAAA,QAAQ,CAAC;AACLK,QAAAA,IAAI,EAAER,UADD;AAELS,QAAAA,OAAO,EAAE;AAFJ,OAAD,CAAR;AAIH;AAGJ,GArBD;AAsBP,CA9BM;AAgCP,OAAO,MAAMM,OAAO,GAAG,MAAM;AACzB,SAAOZ,QAAQ,IAAI;AACfQ,IAAAA,YAAY,CAACK,UAAb,CAAwB,WAAxB;AACAb,IAAAA,QAAQ,CAAC;AACLK,MAAAA,IAAI,EAAET,aADD;AAELU,MAAAA,OAAO,EAAE;AAFJ,KAAD,CAAR;AAKH,GAPD;AAQH,CATM","sourcesContent":["import axios from 'axios';\r\nimport { AUTH_SIGN_UP, AUTH_SIGN_OUT, AUTH_ERROR } from './types'\r\n\r\n/*\r\nActionCreators -> create/return Actions ({ }) -> dispatched -> middlewares -> reducers\r\n*/\r\n\r\nexport const signUp = data => {\r\n    /*\r\n        Step 1) Use the data and to make HTTP request to our BE abd send it along [x]\r\n        Step 2) Take BE response (jwtToken is hee now!) [x]\r\n        Step 3) Dispatch 'user just signed up' (with jwtToken)[x]\r\n        Step 4) Save the jwtToken into our localStorage[x]\r\n    */\r\n\r\n    return async dispatch => {\r\n        try {\r\n            console.log('[ActionCreator] signUp called!');\r\n            const res = await axios.post('http://localhost:5001/users/signup', data);\r\n\r\n            console.log('[ActionCreator] signUp dispatched an action!');\r\n            dispatch({\r\n                type: AUTH_SIGN_UP,\r\n                payload: res.data.token\r\n            });\r\n\r\n            localStorage.setItem('JWT_TOKEN', res.data.token);\r\n\r\n        } catch (error) {\r\n            dispatch({\r\n                type: AUTH_ERROR,\r\n                payload: 'Email is already in use'\r\n            })\r\n        }\r\n\r\n\r\n    };\r\n}\r\n\r\nexport const signIn = data => {\r\n   /*\r\n        Step 1) Use the data and to make HTTP request to our BE abd send it along [x]\r\n        Step 2) Take BE response (jwtToken is hee now!) [x]\r\n        Step 3) Dispatch 'user just signed up' (with jwtToken)[x]\r\n        Step 4) Save the jwtToken into our localStorage[x]\r\n    */\r\n\r\n        return async dispatch => {\r\n            try {\r\n                console.log('[ActionCreator] signUp called!');\r\n                const res = await axios.post('http://localhost:5001/users/signin', data);\r\n    \r\n                console.log('[ActionCreator] signIn dispatched an action!');\r\n                dispatch({\r\n                    type: AUTH_SIGN_UP,\r\n                    payload: res.data.token\r\n                });\r\n    \r\n                localStorage.setItem('JWT_TOKEN', res.data.token);\r\n    \r\n            } catch (error) {\r\n                dispatch({\r\n                    type: AUTH_ERROR,\r\n                    payload: 'Email and password combination is not valid'\r\n                })\r\n            }\r\n    \r\n    \r\n        };\r\n}\r\n\r\nexport const signOut = () => {\r\n    return dispatch => {\r\n        localStorage.removeItem(\"JWT_TOKEN\");\r\n        dispatch({\r\n            type: AUTH_SIGN_OUT,\r\n            payload: ''\r\n        });\r\n\r\n    };\r\n}"]},"metadata":{},"sourceType":"module"}